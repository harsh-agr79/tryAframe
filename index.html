<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>VR Interactive Object Room - Quest 3 Compatible</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-physics-system@v4.0.1/dist/aframe-physics-system.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/wmurphyrd/aframe-super-hands-component@v3.0.3/dist/super-hands.min.js"></script>
</head>
<body>
    <a-scene 
        background="color: #212121" 
        physics="debug: false; gravity: -9.8"
        vr-mode-ui="enabled: true"
        webxr="referenceSpaceType: local-floor; requiredFeatures: local-floor; optionalFeatures: bounded-floor, hand-tracking;">
        
        <a-assets>
            <!-- Audio assets for feedback -->
            <audio id="spawn-sound" preload="auto" src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmEaBjqV2+/AciMF"></audio>
        </a-assets>

        <!-- VR Controllers -->
        <a-entity id="leftHand" 
                  laser-controls="hand: left" 
                  raycaster="objects: .clickable"
                  super-hands="colliderEvent: raycaster-intersection;
                              colliderEventProperty: els;
                              colliderEndEvent: raycaster-intersection-cleared;
                              colliderEndEventProperty: clearedEls;">
        </a-entity>
        
        <a-entity id="rightHand" 
                  laser-controls="hand: right" 
                  raycaster="objects: .clickable"
                  super-hands="colliderEvent: raycaster-intersection;
                              colliderEventProperty: els;
                              colliderEndEvent: raycaster-intersection-cleared;
                              colliderEndEventProperty: clearedEls;">
        </a-entity>

        <!-- Camera/Head -->
        <a-entity id="head" 
                  camera 
                  look-controls 
                  wasd-controls
                  position="0 1.6 3">
        </a-entity>

        <!-- Room Environment -->
        <!-- Floor -->
        <a-plane position="0 0 0" 
                 rotation="-90 0 0" 
                 width="10" 
                 height="10" 
                 color="#8B4513" 
                 static-body
                 shadow="receive: true">
        </a-plane>
        
        <!-- Ceiling -->
        <a-plane position="0 4 0" 
                 rotation="90 0 0" 
                 width="10" 
                 height="10" 
                 color="#4A4A4A">
        </a-plane>
        
        <!-- Walls -->
        <a-plane position="0 2 -5" width="10" height="4" color="#6B6B6B" static-body></a-plane>
        <a-plane position="0 2 5" rotation="0 180 0" width="10" height="4" color="#6B6B6B" static-body></a-plane>
        <a-plane position="-5 2 0" rotation="0 90 0" width="10" height="4" color="#6B6B6B" static-body></a-plane>
        <a-plane position="5 2 0" rotation="0 -90 0" width="10" height="4" color="#6B6B6B" static-body></a-plane>

        <!-- Tables -->
        <a-box position="2 0.5 -2" width="1.5" height="1" depth="0.8" color="#8B4513" static-body shadow="cast: true; receive: true"></a-box>
        <a-box position="-2 0.4 2" width="1.2" height="0.8" depth="1" color="#A0522D" static-body shadow="cast: true; receive: true"></a-box>
        <a-box position="0 0.6 -3.5" width="2" height="1.2" depth="0.6" color="#8B4513" static-body shadow="cast: true; receive: true"></a-box>

        <!-- 3D Menu Panel -->
        <a-entity id="menu-panel" position="-3 2 -2" rotation="0 30 0">
            <!-- Menu Background -->
            <a-plane width="2.5" height="3" color="#2C3E50" opacity="0.9"></a-plane>
            
            <!-- Menu Title -->
            <a-text value="OBJECT SPAWNER" position="0 1.2 0.01" align="center" color="#ECF0F1" font="kelsonsans" width="8"></a-text>
            
            <!-- Spawn Buttons -->
            <a-box id="spawn-box" 
                   position="-0.8 0.6 0.1" 
                   width="0.6" height="0.3" depth="0.1" 
                   color="#4CC3D9" 
                   class="clickable"
                   shadow="cast: true">
                <a-text value="BOX" position="0 0 0.06" align="center" color="white" width="6"></a-text>
            </a-box>
            
            <a-sphere id="spawn-sphere" 
                      position="0.8 0.6 0.1" 
                      radius="0.15" 
                      color="#EF2D5E" 
                      class="clickable"
                      shadow="cast: true">
                <a-text value="SPHERE" position="0 0 0.16" align="center" color="white" width="4"></a-text>
            </a-sphere>
            
            <a-cylinder id="spawn-cylinder" 
                        position="-0.8 0 0.1" 
                        radius="0.15" height="0.3" 
                        color="#FFC65D" 
                        class="clickable"
                        shadow="cast: true">
                <a-text value="CYLINDER" position="0 0 0.16" align="center" color="black" width="4"></a-text>
            </a-cylinder>
            
            <a-cone id="spawn-cone" 
                    position="0.8 0 0.1" 
                    radius-bottom="0.15" height="0.3" 
                    color="#7BC8A4" 
                    class="clickable"
                    shadow="cast: true">
                <a-text value="CONE" position="0 0 0.16" align="center" color="white" width="4"></a-text>
            </a-cone>
            
            <a-torus id="spawn-torus" 
                     position="0 -0.6 0.1" 
                     radius="0.15" radius-tubular="0.03" 
                     color="#93648D" 
                     class="clickable"
                     shadow="cast: true">
                <a-text value="TORUS" position="0 0 0.16" align="center" color="white" width="4"></a-text>
            </a-torus>
            
            <!-- Control Buttons -->
            <a-box id="remove-mode" 
                   position="-0.8 -1.2 0.1" 
                   width="0.6" height="0.3" depth="0.1" 
                   color="#E74C3C" 
                   class="clickable"
                   shadow="cast: true">
                <a-text value="REMOVE" position="0 0 0.06" align="center" color="white" width="5"></a-text>
            </a-box>
            
            <a-box id="clear-all" 
                   position="0.8 -1.2 0.1" 
                   width="0.6" height="0.3" depth="0.1" 
                   color="#34495E" 
                   class="clickable"
                   shadow="cast: true">
                <a-text value="CLEAR" position="0 0 0.06" align="center" color="white" width="5"></a-text>
            </a-box>
        </a-entity>

        <!-- Lighting -->
        <a-light type="ambient" color="#404040"></a-light>
        <a-light type="directional" position="2 4 2" color="#FFFFFF" intensity="0.8" shadow="cast: true"></a-light>
        <a-light type="point" position="0 3 0" color="#FFFFFF" intensity="0.5"></a-light>

        <!-- Spawn Indicator -->
        <a-ring id="spawn-indicator" 
                radius-inner="0.2" 
                radius-outer="0.3" 
                color="#00FF00" 
                opacity="0.7" 
                visible="false"
                animation="property: rotation; to: 0 360 0; loop: true; dur: 1000">
        </a-ring>

    </a-scene>

    <script src="app.js"></script>
</body>
</html>
